
@{
    ViewData["Title"] = "Index";
}

<h2>Index</h2>


    <table id="itemsTable" class="table table-striped table-bordered"  style="width:100%">
        <thead class="thead-dark">
            <tr>
                <th><h2>Photo </h2></th>
                <th><h2>Item Name</h2></th>
                <th><h2>Price</h2></th>
                <th><h2>Quantity</h2></th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    @section scripts
        {
        <script>

            $(document).ready(function () {
                var table = $('#itemsTable').DataTable(
                    {
                        ajax: {
                            url: "/api/items",
                            dataSrc: ""
                        },
                        columns: [
                            {
                                data: "photoUrl",

                                render: function (data) {
                                    return "<img src='" + data + "' width='auto' height='200' >";
                                }
                            },
                            {
                                data: "name",
                                render: function (data, type, item) {
                                    return "<a href='/items/details/" + item.id + "'>" + "<h2>" + item.name + "</h2>" + "</a>";
                                }
                            },
                            {
                                data: "price",
                                render: function (data, type, item) {
                                    return "<h3>" + item.price + "$ <h3>";
                                }

                            },
                            {
                                data: "quantity",
                                render: function (data, type, item) {
                                    return "<h3>" + item.quantity + "$ <h3>";
                                }
                            }
                        ]
                    });
            });

        </script>
    }
